<div class="Timeline">

    <div *ngIf="PostsListLoder">
        <div style="height:220px" fxLayout="row" fxLayoutAlign="space-evenly center">
            <div fxFlex>
                <div class="preloader-orbit-loading">
                    <div class="cssload-inner cssload-one"></div>
                    <div class="cssload-inner cssload-two"></div>
                    <div class="cssload-inner cssload-three"></div>
                </div>
            </div>
        </div>
    </div>


  <p-scrollPanel style="width:90%;" [style]="{height: scrollHeight }" styleClass="customscroll_1">
    <ul class="cbp_tmtimeline">

      <li *ngFor="let Post of PostsList; let i=index; let i=index" class="Highlights Questions">
          <time class="cbp_tmtime"><span> {{Post.PostDate | date }} </span> <span> {{Post.PostDate | date:'shortTime' }} </span></time>
          <div class="cbp_tmicon"> <i *ngIf="Post.Type == 'Question'" class="material-icons">help_outline</i> <i *ngIf="Post.Type == 'Highlight'" class="material-icons">visibility</i></div>
          <div class="cbp_tmlabel">

            <div *ngIf="Post.Type == 'Highlight'" class="HighlightsPost mt-15">
                <!-- Highlights Post Info Header Div -->
                <div class="PostHeader" fxLayout="row" fxLayoutAlign="space-between">
                  <div fxFlex>
                    <div class="leftSide">
                      <div class="" fxLayout="row" fxLayoutAlign="start center">
                        <div fxFlex="50px">
                          <img class="postuserImg" src="assets/images/icons/user.png" alt="">
                        </div>
                        <div class="mt-5" fxFlex>
                          <p class="postusername"> {{Post.UserName}} </p>
                          <p class="postusercategory"> {{Post.UserCategoryName}} &nbsp; | &nbsp; {{Post.UserProfession}} </p>
                          <p class="postuserfollowers"> {{Post.Followers}} Followers </p>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div fxFlex="35%">
                    <div class="rightSide">
                      <div class="" fxLayout="row" fxLayoutAlign="end center">
                        <div class="text-right" fxFill>
                          <p class="postaction"> ... </p>
                          <p class="postdate"> {{Post.PostDate | timeAgo }} </p>
                          <p class="posttopic"> {{Post.PostType}} </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Highlights Post Info Header Div End -->
                <hr class="m-5">
                <!-- Highlights Post -->
                <div class="postmain" fxLayout="row">
                  <div fxFlex class="text-center">
                    <h5 class="text-left ml-20"> {{Post.PostText}}</h5>
                    <div *ngIf="Post.PostImage[0] !== '' || Post.PostVideo[0] !== ''">
                        <div style="text-align:center;">
                            <div style="margin:0 auto;" class="html5gallery" data-skin="light" data-shownumbering="true" data-numberingformat="%NUM / %TOTAL " data-width="600" data-height="350" data-responsive="true" data-resizemode="fit">
                              <ng-container *ngIf="Post.PostImage[0] !== ''">
                                <a *ngFor="let img of Post.PostImage" href="./../../../assets/Uploads/Images/{{img.ImageName}}"><img src="./../../../assets/Uploads/Images/{{img.ImageName}}"></a>
                              </ng-container>  
                              <ng-container *ngIf="Post.PostVideo[0] !== ''">
                                <a *ngFor="let vid of Post.PostVideo" href="./../../../assets/Uploads/Videos/{{vid.VideoName}}"><img src="./../../../assets/images/videoSampleImg.jpg"></a>
                              </ng-container>
                            </div>
                        </div>
                    </div>
                  </div>
                </div>
                <!-- Highlights Post END -->
                <hr class="m-5 mb-0">
                <!-- Highlights Post Share Like And More -->
                <div class="postLikes" fxLayout="row" fxLayoutAlign="space-between center">
                  <div fxFlex class="text-left">
                    <div class="like">
                      <img *ngIf="!Post.UserLiked" (click)="AddLike(i)" src="assets/images/icons/like.png" alt="">
                      <img *ngIf="Post.UserLiked" (click)="RemoveLike(i)" src="assets/images/icons/liked.png" alt="">
                      <p class="count"> {{Post.LikesCount}} <small *ngIf="Post.UserLiked" > <small> (You Also) </small> </small> </p>
                    </div>
                  </div>
                  <div fxFlex class="text-center">
                    <div class="chat" (click)="ChangeActiveComment(i)">
                      <img src="assets/images/icons/comment.png" alt="">
                      <p class="count"> {{Post.commentsCount}} </p>
                    </div>
                  </div>
                  <div fxFlex class="text-right">
                    <div class="share">
                      <img src="assets/images/icons/share.png" alt="">
                      <p class="count"> 100 </p>
                    </div>
                  </div>
                </div>
                <!-- Highlights Post Share Like And More  END-->
                <hr class="m-5 mt-0">
                <!-- Highlights Post Share Like And More -->
                <div class="postchat" fxLayout="row" fxLayoutAlign="space-between center">
                  <div fxFlex="50px" class="text-left">
                    <div class="chatUserImg text-center">
                      <img src="assets/images/users/{{LoginUser['data'].UserImage}}" alt=""> </div>
                  </div>
                  <div fxFlex class="text-center">
                    <div class="chatInput">
                      <input #j type="text" placeholder="Post Your Comment..."> </div>
                  </div>
                  <div fxFlex="60px" class="text-right">
                    <div class="chatsend text-center">
                      <i (click)="SubmitComment(j.value, i); j.value='' " class="material-icons">send</i>
                    </div>
                  </div>
                </div>
                <!-- Highlights Post Share Like And More  END-->


                <div *ngIf="LoadingActiveComment == i">
                  <div style="height:220px" fxLayout="row" fxLayoutAlign="space-evenly center">
                      <div fxFlex>
                          <div class="preloader-orbit-loading">
                            <div class="cssload-inner cssload-one"></div>
                            <div class="cssload-inner cssload-two"></div>
                            <div class="cssload-inner cssload-three"></div>
                          </div>
                      </div>
                  </div>
              </div>
                
                <div *ngIf="ActiveComment == i && LoadingActiveComment != i && Post.comments == undefined">
                  <div style="height:60px" fxLayout="row" fxLayoutAlign="space-evenly center">
                      <div fxFlex>
                          <h5 style="line-height:60px; text-align:center"> No Comment Found!...</h5>
                      </div>
                  </div>
              </div>

                <!-- Highlights Post Comments-->
                <div *ngIf="ActiveComment == i" class="Comments">
                  <div *ngFor="let comment of (Post.comments ? Post.comments.slice(0,2): []); let k=index" class="commentPost">
                    <div class="commentinfo mb-2">
                      <div class="PostHeader" fxLayout="row" fxLayoutAlign="space-between">
                        <div fxFlex>
                          <div class="leftSide">
                            <div class="" fxLayout="row" fxLayoutAlign="start center">
                              <div fxFlex="45px">
                                <img class="postuserImg" src="assets/images/users/{{comment.UserImage}}" alt="">
                              </div>
                              <div fxFlex>
                                <p class="postusercategory">
                                  <span class="postusername" style="cursor:pointer" (click)="GotoProfile(comment.UserId)"> {{ comment.UserName }}, </span>
                                   {{comment.UserCategoryName}} &nbsp; | &nbsp; {{comment.UserProfession | slice:0:7 }}{{ comment.UserProfession?.length > 7 ? '...' : ' ' }}
                                </p>
                                <p class="postuserfollowers"> {{ comment.Followers }} Followers </p>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div fxFlex="25%">
                          <div class="rightSide">
                            <div class="" fxLayout="row" fxLayoutAlign="end center">
                              <div class="text-right" fxFlex>
                                <p class="postaction"> ... </p>
                                <p class="postdate"> {{comment.Date | timeAgo}} </p>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <hr class="m-0">
                    <div class="commentbody">
                      <p class="commenttext"> {{comment.CommentText}} </p>
                    </div>
                  </div>

                  <div *ngIf="Post.comments?.length > 2" class="row">
                    <div class="col-sm-12">
                      <p class="viewAll text-right"> View All...</p>
                    </div>
                  </div>

                </div>
                <!-- Highlights Post Comments END-->
        
        
            </div>
              <!-- Highlights Post Div END -->


            <!-- Question Post Div -->
            <div   *ngIf="Post.Type == 'Question'"class="QuestionPost mt-15">
                <!-- Question Post Info Header Div -->
                  <div class="PostHeader" fxLayout="row" fxLayoutAlign="space-between">
                    <div fxFlex>
                      <div class="leftSide">
                        <div class="" fxLayout="row" fxLayoutAlign="start center">
                          <div fxFlex="60px">
                            <img class="postuserImg" src="assets/images/icons/user.png" alt="">
                          </div>
                          <div class="mt-10" fxFlex>
                            <p class="postusername"> {{Post.UserName}} </p>
                            <p class="postusercategory"> {{Post.UserCategoryName}} &nbsp; | &nbsp; {{Post.UserProfession}} </p>
                            <p class="postuserfollowers"> {{Post.Followers}} Followers </p>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div fxFlex="35%">
                      <div class="rightSide">
                        <div class="" fxLayout="row" fxLayoutAlign="end center">
                          <div class="text-right" fxFill>
                            <p class="postaction"> ... </p>
                            <p class="postdate"> {{Post.PostDate | timeAgo }} </p>
                            <p class="posttopic"> {{Post.PostTopicName}} </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Question Post Info Header Div End -->
                  <hr class="m-5">
                  <!-- Question Post -->
                  <div class="postmain" fxLayout="row">
                    <div fxFlex class="text-left">
                      <h5 class="postquestion"> {{Post.PostText}} </h5>
                      <div *ngIf="Post.PostImage[0] !== '' || Post.PostVideo[0] !== '' ">
                          <div style="text-align:center;">
                              <div style="margin:0 auto;" class="html5gallery" data-skin="light" data-shownumbering="true" data-numberingformat="%NUM / %TOTAL " data-width="600" data-height="350" data-responsive="true" data-resizemode="fit">
                                <ng-container *ngIf="Post.PostImage[0] !== ''">
                                  <a *ngFor="let img of Post.PostImage" href="./../../../assets/Uploads/Images/{{img.ImageName}}"><img src="./../../../assets/Uploads/Images/{{img.ImageName}}"></a>
                                </ng-container>  
                                <ng-container *ngIf="Post.PostVideo[0] !== ''">
                                  <a *ngFor="let vid of Post.PostVideo" href="./../../../assets/Uploads/Videos/{{vid.VideoName}}"><img src="./../../../assets/images/videoSampleImg.jpg"></a>
                                </ng-container>
                              </div>
                          </div>
                      </div>
                      <div *ngIf="Post.Answers == undefined">
                          <div style="height:60px" fxLayout="row" fxLayoutAlign="space-evenly center">
                              <div fxFlex>
                                  <h5 style="line-height:60px; text-align:center"> No Answers Found!...</h5>
                              </div>
                          </div>
                      </div>


                      <div *ngFor="let Answer of (Post.Answers ? Post.Answers.slice(0,2): []); let k=index" class="postAnswer">
                        <div class="PostAnsHeader" fxLayout="row" fxLayoutAlign="space-between">
                          <div fxFlex>
                            <div class="leftSide">
                              <div class="postansuserinfo" fxLayout="row" fxLayoutAlign="start center">
                                <div fxFlex="45px">
                                  <img class="postansuserImg" src="assets/images/users/{{Answer.UserImage}}" alt="">
                                </div>
                                <div fxFlex>
                                  <p class="postansusername"> <span style="cursor:pointer" (click)="GotoProfile(Answer.UserId)"> {{Answer.UserName}} </span>  </p>
                                  <p class="postansfollowes"> {{Answer.Followers}} followers </p>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div fxFlex="35%">
                            <div class="rightSide">
                              <div class="" fxLayout="row" fxLayoutAlign="end center">
                                <div fxFlex>
                                </div>
                                <div class="text-right mr-5" fxFlex="150px">
                                  <p class="postansaction"> ... </p>
                                  <p class="postansdate"> {{Answer.Date | timeAgo}} </p>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <hr class="m-0" style="border-color: #77778729;">
                        <div class="postAns" fxLayout="row" fxLayoutAlign="start">
                          <div fxFlex>
                            <p class="postAnsText"> &emsp;  {{Answer.AnswerText}}.</p>
                          </div>
                        </div>
                      </div>


                      <div *ngIf="Post.Answers?.length > 2" class="text-right">
                        <p class="viewAll">View All...</p>
                      </div>
                    </div>

                  </div>

                  <!-- Question Post END -->
                  <hr class="m-5">
                  <!-- Question Post Share Like And More -->
                  <div class="postLikes" fxLayout="row" fxLayoutAlign="space-between center">
                    <div fxFlex="40%" class="text-left">
                      <div class="like">
                        <ngl-rating style="max-width:100px;" *ngIf="Post.userRated" [isReadonly]="true" [(rate)]="Post.RatingCount" [size]="x-small" class="rating" >
                            <ng-template nglRatingIcon let-active>
                              <ngl-avatar class="ratingpart" [src]="RatingImage(active)" type="circle"></ngl-avatar>
                            </ng-template>
                        </ngl-rating>
                        <ngl-rating style="max-width:100px;cursor:pointer" *ngIf="!Post.userRated" [isReadonly]="false" [(rate)]="Post.RatingCount" (click)="rateChanging(i)" [size]="x-small" class="rating" >
                            <ng-template nglRatingIcon let-active>
                              <ngl-avatar class="ratingpart" [src]="RatingImage(active)" type="circle"></ngl-avatar>
                            </ng-template>
                        </ngl-rating>
                        <p class="count"> {{Post.RatingCount | number:'1.0-2'}} <small *ngIf="Post.userRated" > <small> ( Your Rating {{Post.userRating}} ) </small> </small> </p>
                      </div>
                    </div>
                    <div fxFlex="20%" class="text-center">
                      <div class="chat" (click)="ChangeActiveAnswerInput(i)">
                        <p class="answer"> Answer </p>
                        <p class="count"> {{Post.AnswersCount}} </p>
                      </div>
                    </div>
                    <div fxFlex="40%" class="text-right">
                      <div class="share">
                        <img src="assets/images/icons/share.png" alt="">
                        <p class="count"> 100 </p>
                      </div>
                    </div>
                  </div>
                  <!-- Question Post Share Like And More  END-->
                  <hr class="m-5">
                  <!-- Question Post Share Like And More -->
                  <div *ngIf="ActiveAnswerInput == i" class="postchat" fxLayout="row" fxLayoutAlign="space-between center">
                    <div fxFlex="60px" class="text-left">
                      <div class="chatUserImg text-center">
                        <img src="assets/images/users/{{LoginUser['data'].UserImage}}" alt=""> </div>
                    </div>
                    <div fxFlex class="text-center">
                      <div class="chatInput">
                        <input #j type="text" placeholder="Post Your Answer..."> </div>
                    </div>
                    <div fxFlex="70px" class="text-right">
                      <div class="chatsend text-center">
                        <i (click)="SubmitAnswer(j.value, i); j.value='' " class="material-icons">send</i>
                      </div>
                    </div>
                  </div>
                  <!-- Question Post Share Like And More  END-->
      
            </div>
            <!-- Question Post Div END -->


          </div>
      </li>


    </ul>
  </p-scrollPanel>
</div>